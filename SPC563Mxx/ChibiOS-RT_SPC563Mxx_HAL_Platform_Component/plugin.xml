<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
    <!-- All SPC5 Component extension shall have the namespace "com.st.tools.spc5"-->
    <extension
            id="org.chibios.spc5.components.hal.platform.spc563mxx"
            name="ChibiOS-RT SPC563Mxx HAL Platform Component"
            point="com.st.tools.spc5.extension.v1">
        <component
                hidden="true"
                icon="rsc/chibios.ico"
                isPlatform="false">
            <description>
                ChibiOS/RT SPC563Mxx low level drivice drivers files.
            </description>
            <categories>
                <category
                        id="ChibiOS-RT/Platforms/SPC563Mxx">
                </category>
            </categories>
            <configuration>
                <description>
                    SPC563Mxx Low Level Drivers options and settings.
                </description>
                <image
                        align="left"
                        file="rsc/chibios48x48.png">
                    <text>
                        ChibiOS/RT is GPL3-licensed free software. A special exception has been added to the GPL3 in order to allow inclusion in closed source applications, details are in the exception.txt document.
                    </text>
                </image>
                <group
                        expanded="false"
                        name="Initialization Settings">
                    <description>
                        Generic initialization-related settings.
                    </description>
                    <property
                            brief="Activating this options bypasses the whole clock initialization phase."
                            default="false"
                            editable="true"
                            name="Do Not Init"
                            required="true"
                            type="boolean">
                    </property>
                    <property
                            brief="Activating this options bypasses the FMPLL."
                            default="false"
                            editable="true"
                            name="Clock Bypass"
                            required="true"
                            type="boolean">
                    </property>
                    <property
                            brief="Enabling this options disables all consistency checks on the clock initialization values."
                            default="false"
                            editable="true"
                            name="Allow Overclocking"
                            required="true"
                            type="boolean">
                    </property>
                    <group
                            expanded="false"
                            name="FMPLL0 Settings"
                            style="collapsable">
                        <description>
                            FMPLL0 settings, errors in settings or invalid settings are detected at compile time.
                        </description>
                        <property
                                brief="FMPLL0 Input Divider Value."
                                default="2"
                                editable="true"
                                max="15"
                                min="1"
                                name="Prediv Value"
                                required="true"
                                type="unsigned">
                        </property>
                        <property
                                brief="FMPLL0 Multiplier Value."
                                default="80"
                                editable="true"
                                max="96"
                                min="32"
                                name="MFD Value"
                                required="true"
                                type="unsigned">
                        </property>
                        <property
                                brief="FMPLL0 Output Divider Value."
                                default="1"
                                editable="true"
                                name="RFD Value"
                                required="true"
                                type="enum"
                                value="SPC5_RFD_DIV2,SPC5_RFD_DIV4,SPC5_RFD_DIV8,SPC5_RFD_DIV16">
                        </property>
                    </group>
                </group>
                <group
                        columns="2"
                        expanded="false"
                        name="IRQ Priority Settings"
                        style="collapsable">
                    <description>
                        IRQ priority settings, the defaults are usually acceptable.
                    </description>
                    <line></line>
                    <property
                            brief="IRQ priority to be assigned to the eQADC FIFO0 peripheral."
                            default="11"
                            editable="true"
                            name="eQADC FIFO0"
                            required="true"
                            type="enum"
                            value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="IRQ priority to be assigned to the eQADC FIFO1 peripheral."
                            default="11"
                            editable="true"
                            name="eQADC FIFO1"
                            required="true"
                            type="enum"
                            value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="IRQ priority to be assigned to the eQADC FIFO2 peripheral."
                            default="11"
                            editable="true"
                            name="eQADC FIFO2"
                            required="true"
                            type="enum"
                            value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="IRQ priority to be assigned to the eQADC FIFO3 peripheral."
                            default="11"
                            editable="true"
                            name="eQADC FIFO3"
                            required="true"
                            type="enum"
                            value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="IRQ priority to be assigned to the eQADC FIFO4 peripheral."
                            default="11"
                            editable="true"
                            name="eQADC FIFO4"
                            required="true"
                            type="enum"
                            value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="IRQ priority to be assigned to the eQADC FIFO5 peripheral."
                            default="11"
                            editable="true"
                            name="eQADC FIFO5"
                            required="true"
                            type="enum"
                            value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <line>
                        line body text
                    </line>
                    <property
                            brief="IRQ priority to be assigned to the eSCI0 peripheral."
                            default="7"
                            editable="true"
                            name="eSCI0"
                            required="true"
                            type="enum"
                            value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="IRQ priority to be assigned to the eSCI1 peripheral."
                            default="7"
                            editable="true"
                            name="eSCI1"
                            required="true"
                            type="enum"
                            value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                </group>
                <group
                        columns="2"
                        expanded="false"
                        name="eDMA Settings"
                        style="collapsable">
                    <description>
                        DMA priority settings, the defaults are usually acceptable.
                    </description>
                    <line></line>
                    <property
                            brief="DMA priority for eQADC FIFO 0."
                            default="12"
                            editable="true"
                            name="eQADC FIFO0"
                            required="true"
                            type="enum"
                            value="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="DMA priority for eQADC FIFO 1."
                            default="12"
                            editable="true"
                            name="eQADC FIFO1"
                            required="true"
                            type="enum"
                            value="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="DMA priority for eQADC FIFO 2."
                            default="12"
                            editable="true"
                            name="eQADC FIFO2"
                            required="true"
                            type="enum"
                            value="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="DMA priority for eQADC FIFO 3."
                            default="12"
                            editable="true"
                            name="eQADC FIFO3"
                            required="true"
                            type="enum"
                            value="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="DMA priority for eQADC FIFO 4."
                            default="12"
                            editable="true"
                            name="eQADC FIFO4"
                            required="true"
                            type="enum"
                            value="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                    <property
                            brief="DMA priority for eQADC FIFO 5."
                            default="12"
                            editable="true"
                            name="eQADC FIFO5"
                            required="true"
                            type="enum"
                            value="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15">
                    </property>
                </group>
                <group
                        columns="2"
                        expanded="false"
                        name="eQADC Settings"
                        style="collapsable">
                    <description>
                        Settings related to the eQADC FIFOs.
The eQADC driver implements six virtual ADC drivers using the six internal eQADC FIFOs.
ADCD1...ADCD3 represent 3 levels of priority over access of the physical unit ADC0. ADCD4...ADCD6 represent 3 levels of priority over access of the physical unit ADC1.
                    </description>
                    <line></line>
                    <text>
                        The eQADC clock frequency must not exceed 16MHz, the divider is fed from the system clock and drives the eQADC.
                    </text>
                    <property
                            brief="eQADC clock prescale value."
                            default="3"
                            editable="true"
                            name="Divider"
                            required="true"
                            type="enum"
                            value="2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33">
                    </property>
                    <line>
                        line body text
                    </line>
                    <text>
                        Select the eQADC FIFOs to be used by the ADC driver, each used FIFO increases the required memory space.
                    </text>
                    <property
                            brief="Enables the use of the eEQADC FIFO 0 from the ADC driver as ADCD1."
                            default="false"
                            editable="true"
                            name="FIFO0"
                            required="true"
                            type="boolean">
                    </property>
                    <property
                            brief="Enables the use of the eEQADC FIFO 1 from the ADC driver as ADCD2."
                            default="false"
                            editable="true"
                            name="FIFO1"
                            required="true"
                            type="boolean">
                    </property>
                    <property
                            brief="Enables the use of the eEQADC FIFO 2 from the ADC driver as ADCD3."
                            default="false"
                            editable="true"
                            name="FIFO2"
                            required="true"
                            type="boolean">
                    </property>
                    <property
                            brief="Enables the use of the eEQADC FIFO 3 from the ADC driver as ADCD4."
                            default="false"
                            editable="true"
                            name="FIFO3"
                            required="true"
                            type="boolean">
                    </property>
                    <property
                            brief="Enables the use of the eEQADC FIFO 4 from the ADC driver as ADCD5."
                            default="false"
                            editable="true"
                            name="FIFO4"
                            required="true"
                            type="boolean">
                    </property>
                    <property
                            brief="Enables the use of the eEQADC FIFO 5 from the ADC driver as ADCD6."
                            default="false"
                            editable="true"
                            name="FIFO5"
                            required="true"
                            type="boolean">
                    </property>
                    <line>
                        line body text
                    </line>
                    <text>
                        The analog channels from 0 to 7 can be programmed with optional Pull Up/Down resistors.
                    </text>
                    <property
                            brief="Input resistors settings for AN0."
                            default="0"
                            editable="true"
                            name="AN0"
                            required="true"
                            type="enum"
                            value="None,Up 200k,Up 100k,Up 5k,Down 200k,Down 100k,Down 5k,UpDown 200k,UpDown 100k">
                    </property>
                    <property
                            brief="Input resistors settings for AN1."
                            default="0"
                            editable="true"
                            name="AN1"
                            required="true"
                            type="enum"
                            value="None,Up 200k,Up 100k,Up 5k,Down 200k,Down 100k,Down 5k,UpDown 200k,UpDown 100k">
                    </property>
                    <property
                            brief="Input resistors settings for AN2."
                            default="0"
                            editable="true"
                            name="AN2"
                            required="true"
                            type="enum"
                            value="None,Up 200k,Up 100k,Up 5k,Down 200k,Down 100k,Down 5k,UpDown 200k,UpDown 100k">
                    </property>
                    <property
                            brief="Input resistors settings for AN3."
                            default="0"
                            editable="true"
                            name="AN3"
                            required="true"
                            type="enum"
                            value="None,Up 200k,Up 100k,Up 5k,Down 200k,Down 100k,Down 5k,UpDown 200k,UpDown 100k">
                    </property>
                    <property
                            brief="Input resistors settings for AN4."
                            default="0"
                            editable="true"
                            name="AN4"
                            required="true"
                            type="enum"
                            value="None,Up 200k,Up 100k,Up 5k,Down 200k,Down 100k,Down 5k,UpDown 200k,UpDown 100k">
                    </property>
                    <property
                            brief="Input resistors settings for AN5."
                            default="0"
                            editable="true"
                            name="AN5"
                            required="true"
                            type="enum"
                            value="None,Up 200k,Up 100k,Up 5k,Down 200k,Down 100k,Down 5k,UpDown 200k,UpDown 100k">
                    </property>
                    <property
                            brief="Input resistors settings for AN6."
                            default="0"
                            editable="true"
                            name="AN6"
                            required="true"
                            type="enum"
                            value="None,Up 200k,Up 100k,Up 5k,Down 200k,Down 100k,Down 5k,UpDown 200k,UpDown 100k">
                    </property>
                    <property
                            brief="Input resistors settings for AN7."
                            default="0"
                            editable="true"
                            name="AN7"
                            required="true"
                            type="enum"
                            value="None,Up 200k,Up 100k,Up 5k,Down 200k,Down 100k,Down 5k,UpDown 200k,UpDown 100k">
                    </property>
                    <line></line>
                    <group
                            columns="1"
                            expanded="true"
                            name="Conversion Groups"
                            style="button">
                        <description>
                            Conversion Groups definition. A configuration group is a structure that describes a conversion process, the structures and the required definitions are automatically generated.
                        </description>
                        <property
                                brief="List of the available conversion groups."
                                editable="true"
                                length="0"
                                name="Groups"
                                required="true"
                                type="list"
                                value="ADC Driver,Symbolic Name">
                            <group
                                    expanded="true"
                                    name="Conversion Group Settings"
                                    style="collapsable">
                                <description>
                                    Settings related to the conversion group.
                                </description>
                                <property
                                        brief="Conversion Groups are only usable with a specific driver."
                                        default="0"
                                        editable="true"
                                        name="ADC Driver"
                                        required="true"
                                        style="combo"
                                        type="enum"
                                        value="ADCD1 (ADC0/FIFO0),ADCD2 (ADC0/FIFO1),ADCD3 (ADC0/FIFO2),ADCD4 (ADC1/FIFO3),ADCD5 (ADC1/FIFO4),ADCD6 (ADC1/FIFO5)">
                                </property>
                                <property
                                        brief="Name for the conversion group, it must be compatibile with C identifiers."
                                        default="group_name"
                                        editable="true"
                                        name="Symbolic Name"
                                        regex="^[a-zA-Z_][a-zA-Z0-9_]*$"
                                        required="true"
                                        type="string">
                                </property>
                                <property
                                        brief="Conversion mode for this group, it can be linear buffer or circular buffer."
                                        default="0"
                                        editable="true"
                                        name="Conversion Mode"
                                        required="true"
                                        style="combo"
                                        type="enum"
                                        value="Linear Buffer,Circular Buffer">
                                </property>
                                <property
                                        brief="Maximum number of sequential conversions that can be performed on this group."
                                        default="1"
                                        editable="true"
                                        min="1"
                                        name="Maximum Sequential"
                                        required="true"
                                        type="unsigned">
                                </property>
                                <group
                                        columns="1"
                                        expanded="false"
                                        name="Triggers"
                                        style="collapsable">
                                    <description>
                                        Trigger related settings.
                                    </description>
                                    <property
                                            brief="Trigger mode for this conversion group."
                                            default="0"
                                            editable="true"
                                            name="Mode"
                                            required="true"
                                            style="combo"
                                            type="enum"
                                            value="SW Trigger,HW Trigger Low Level,HW Trigger High Level,HW Trigger Falling Edge,HW Trigger Falling Edge,HW Trigger Both Edges">
                                    </property>
                                    <text>
                                        Note, the exact mapping of the TSEL field depends on the FIFO number, consult the reference manual in section 15.8.17 for details about the physical mappings.
                                    </text>
                                    <property
                                            brief="Main trigger source."
                                            default="0"
                                            editable="true"
                                            name="TSEL"
                                            required="true"
                                            type="enum"
                                            value="ETSEL (secondary selector),eTPUx,eMIOSx,eTRIGx">
                                    </property>
                                    <text>
                                        Note, the exact mapping of the ETSEL field depends on the FIFO number, consult the reference manual in section 15.8.20 for details about the physical mappings.
                                    </text>
                                    <property
                                            brief="Extended trigger source (0..31)."
                                            default="0"
                                            editable="true"
                                            max="31"
                                            min="0"
                                            name="ETSEL"
                                            required="true"
                                            type="unsigned">
                                    </property>
                                </group>
                                <group
                                        columns="1"
                                        expanded="false"
                                        name="Notifications"
                                        style="collapsable">
                                    <description>
                                        The driver notifies the application using callbacks, note that callbacks are invoked from ISR context so be careful with the code you put there, efficiency is mandatory. Leave empty if callbacks are not needed.
                                    </description>
                                    <property
                                            brief="Name of the callback invoked on conversion middle point and conversion end."
                                            editable="true"
                                            name="Conversion Callback"
                                            regex="^[a-zA-Z_][a-zA-Z0-9_]*$|^$"
                                            required="false"
                                            type="string">
                                    </property>
                                    <property
                                            brief="Name of the callback invoked on conversion error."
                                            editable="true"
                                            name="Error Callback"
                                            regex="^[a-zA-Z_][a-zA-Z0-9_]*$|^$"
                                            required="false"
                                            type="string">
                                    </property>
                                </group>
                                <group
                                        columns="1"
                                        expanded="false"
                                        name="Channels"
                                        style="collapsable">
                                    <description>
                                        List of the channels composing the conversion group, each channel has its own attributes.
                                    </description>
                                    <property
                                            brief="Sequence of the channels belonging to the conversion group."
                                            editable="true"
                                            length="1"
                                            min="1"
                                            name="Sequence"
                                            required="true"
                                            type="list"
                                            value="Channel,Sample Size,Sampling Time">
                                        <group
                                                columns="2"
                                                expanded="true"
                                                name="Channel Settings"
                                                style="collapsable">
                                            <description>
                                                Settings related to the channel in a sequence.
                                            </description>
                                            <property
                                                    brief="Identifier of the analog channel."
                                                    default="0"
                                                    editable="true"
                                                    name="Channel"
                                                    required="true"
                                                    type="enum"
                                                    value="AN0,AN1,AN2,AN3,AN4,AN5,AN6,AN7,AN8,AN9,AN10,AN11,AN12,AN13,AN14,AN15,AN16,AN17,AN18,AN19,AN20,AN21,AN22,AN23,AN24,AN25,AN26,AN27,AN28,AN29,AN30,AN31,AN32,AN33,AN34,AN35,AN36,AN37,AN38,AN39,VRH,VRL,VREF25,VREF50,VREF75,BANDGAP,DAN0,DAN1,DAN2,DAN3,TEMP_SENSOR,SPARE">
                                            </property>
                                            <property
                                                    brief="Sample size in bits."
                                                    default="0"
                                                    editable="true"
                                                    name="Sample Size"
                                                    required="true"
                                                    type="enum"
                                                    value="12,10,8">
                                            </property>
                                            <property
                                                    brief="Channel sampling time in cycles."
                                                    default="0"
                                                    editable="true"
                                                    name="Sampling Time"
                                                    required="true"
                                                    type="enum"
                                                    value="2,8,64,128">
                                            </property>
                                            <property
                                                    brief="Selects the calibrated or uncalibrated mode for the channel."
                                                    default="true"
                                                    editable="true"
                                                    name="Calibrated"
                                                    required="true"
                                                    type="boolean">
                                            </property>
                                            <property
                                                    brief="If selected then the result is a signed quantity."
                                                    default="false"
                                                    editable="true"
                                                    name="Signed Result"
                                                    required="true"
                                                    type="boolean">
                                            </property>
                                        </group>
                                    </property>
                                </group>
                            </group>
                        </property>
                    </group>
                </group>
                <group
                        columns="2"
                        expanded="false"
                        name="eSCI Settings"
                        style="collapsable">
                    <description>
                        Settings related to the eSCI units, note that the selected drivers must be enabled in the portable HAL configuration.
                    </description>
                    <property
                            brief="Driver owning the eSCI0."
                            default="0"
                            editable="true"
                            name="eSCI0"
                            required="true"
                            type="enum"
                            value="None,Serial">
                    </property>
                    <property
                            brief="Driver owning the eSCI1."
                            default="0"
                            editable="true"
                            name="eSCI1"
                            required="true"
                            type="enum"
                            value="None,Serial">
                    </property>
                </group>
            </configuration>
            <exportedFeatures>
                <exportedFeature
                        exclusive="true"
                        id="org.chibios.spc5.features.hal.platform.spc563mxx">
                </exportedFeature>
                <exportedFeature
                        exclusive="true"
                        id="org.chibios.spc5.features.hal.platform">
                </exportedFeature>
                <exportedFeature
                        exclusive="false"
                        id="org.chibios.spc5.features.hal.implementations.adc">
                </exportedFeature>
                <exportedFeature
                        exclusive="false"
                        id="org.chibios.spc5.features.hal.implementations.hal">
                </exportedFeature>
                <exportedFeature
                        exclusive="false"
                        id="org.chibios.spc5.features.hal.implementations.pal">
                </exportedFeature>
                <exportedFeature
                        exclusive="false"
                        id="org.chibios.spc5.features.hal.implementations.serial">
                </exportedFeature>
            </exportedFeatures>
            <requiredFeatures>
                <requiredFeature
                        id="org.chibios.spc5.features.hal">
                </requiredFeature>
                <requiredFeature
                        id="org.chibios.spc5.features.kernel">
                </requiredFeature>
                <requiredFeature
                        id="org.chibios.spc5.features.kernel.port.gcc.ppc.spc563mxx">
                </requiredFeature>
            </requiredFeatures>
        </component>
    </extension>

</plugin>
